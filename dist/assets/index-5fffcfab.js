(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))f(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const g of n.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&f(g)}).observe(document,{childList:!0,subtree:!0});function u(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function f(a){if(a.ep)return;a.ep=!0;const n=u(a);fetch(a.href,n)}})();const k=[{name:"Apple",calories:95},{name:"Banana",calories:105},{name:"Orange",calories:62},{name:"Carrot",calories:41},{name:"Broccoli",calories:34},{name:"Chicken Breast",calories:165},{name:"Salmon",calories:206},{name:"Egg",calories:155},{name:"Milk",calories:122},{name:"Yogurt",calories:59},{name:"Pasta",calories:131},{name:"Rice",calories:206},{name:"Bread",calories:76},{name:"Peanut Butter",calories:188},{name:"Almonds",calories:164},{name:"Avocado",calories:160},{name:"Spinach",calories:7},{name:"Lettuce",calories:5},{name:"Tomato",calories:18},{name:"Cucumber",calories:16},{name:"Celery",calories:16},{name:"Bell Pepper",calories:28},{name:"Strawberry",calories:32},{name:"Blueberry",calories:57},{name:"Raspberry",calories:52},{name:"Blackberry",calories:52},{name:"Watermelon",calories:30},{name:"Pineapple",calories:50},{name:"Grapes",calories:67},{name:"Orange Juice",calories:112},{name:"Apple Juice",calories:116},{name:"Coca-Cola",calories:39},{name:"Pepsi",calories:38},{name:"Sprite",calories:38},{name:"Tea",calories:0},{name:"Coffee",calories:0},{name:"Water",calories:0}];let i=[],m=2e3,c=0;document.addEventListener("DOMContentLoaded",()=>{const l=document.getElementById("foodInput"),s=document.getElementById("calorieInput"),u=document.getElementById("addButton"),f=document.getElementById("foodList"),a=document.getElementById("totalCalories"),n=document.getElementById("calorieGoal"),g=document.getElementById("setGoalButton"),B=document.getElementById("statsDisplay"),L=document.getElementById("progressFill"),r=document.getElementById("suggestions"),I=document.getElementById("notification");l.addEventListener("input",S),s.addEventListener("input",w),u.addEventListener("click",O),g.addEventListener("click",G),document.addEventListener("click",N);function S(e){const t=e.target.value.toLowerCase();if(t.length<2){r.style.display="none";return}const o=k.filter(d=>d.name.toLowerCase().includes(t)).slice(0,5);o.length>0?b(o):r.style.display="none"}function b(e){r.innerHTML="",e.forEach(t=>{const o=document.createElement("div");o.className="suggestion-item",o.textContent=`${t.name} (${t.calories} cal)`,o.addEventListener("click",()=>F(t)),r.appendChild(o)}),r.style.display="block"}function F(e){l.value=e.name,s.value=e.calories,r.style.display="none",v()}function N(e){!r.contains(e.target)&&e.target!==l&&(r.style.display="none")}function w(e){e.target.value<0&&(e.target.value=0),v()}function v(){const e=l.value.trim()!==""&&s.value>0;u.disabled=!e,u.style.opacity=e?"1":"0.5"}function O(){const e=l.value.trim(),t=parseInt(s.value);if(!e||!t){p("Please enter both food name and calories",!0);return}const o={food:e,calories:t,date:new Date};i.push(o),c+=t,y(),h(),$(),p("Food item added successfully")}function G(){const e=prompt("Enter your daily calorie goal:",m);e&&!isNaN(e)&&e>0?(m=parseInt(e),y(),h(),p("Calorie goal updated")):e!==null&&p("Please enter a valid number",!0)}function P(e){const t=i[e];c-=t.calories,i.splice(e,1),y(),h(),p("Food item deleted")}function p(e,t=!1){I.textContent=e,I.className=`notification ${t?"error":""} show`,setTimeout(()=>{I.className="notification"},3e3)}function y(){a.textContent=c,n.textContent=m;const e=c/m*100;L.style.width=`${Math.min(e,100)}%`,L.style.backgroundColor=e>100?"#e74c3c":"#2ecc71",f.innerHTML="",i.forEach((t,o)=>{const d=document.createElement("li");d.className="food-item",d.innerHTML=`
                <div class="food-item-content">
                    <div class="food-name">${t.food}</div>
                    <div class="food-calories">${t.calories} calories</div>
                </div>
                <button class="delete-btn" onclick="deleteFoodItem(${o})">Ã—</button>
            `,f.appendChild(d)}),M(),v()}function M(){const e=T();B.innerHTML=`
            <div class="stat-item">
                <div class="stat-label">Remaining Calories</div>
                <div class="stat-value">${e.remainingCalories}</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">Average Calories per Item</div>
                <div class="stat-value">${e.averageCalories}</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">Most Common Food</div>
                <div class="stat-value">${e.mostCommonFood||"N/A"}</div>
            </div>
        `}function T(){var E;const e=m-c,t=i.length?Math.round(c/i.length):0,o={};i.forEach(C=>{o[C.food]=(o[C.food]||0)+1});const d=(E=Object.entries(o).sort((C,A)=>A[1]-C[1])[0])==null?void 0:E[0];return{remainingCalories:e,averageCalories:t,mostCommonFood:d}}function $(){l.value="",s.value="",l.focus(),v()}function h(){localStorage.setItem("foodLog",JSON.stringify(i)),localStorage.setItem("calorieGoal",m.toString()),localStorage.setItem("totalCalories",c.toString())}function D(){const e=localStorage.getItem("foodLog"),t=localStorage.getItem("calorieGoal"),o=localStorage.getItem("totalCalories");e&&(i=JSON.parse(e)),t&&(m=parseInt(t)),o&&(c=parseInt(o)),y()}window.deleteFoodItem=P,D()});
